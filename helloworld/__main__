"""Top-level implementation of the helloworld program."""

import argparse
import sys

import helloworld

parser = argparse.ArgumentParser(
    description='A simple example program to print a friendly greeting.'
)
parser.add_argument('--version', action='version',
    version='helloworld ' + getattr(helloworld, '__version__', 'unknown')
)

def main(argv=None):
    if argv is None:
        argv = sys.argv

    # Ensure the script runs correctly with argument parsing
    parser.parse_args(argv[1:])

    print("Hello, world")
    return 0

if __name__ == "__main__":
    sys.exit(main())
